<!-- Create New Project Modal -->
<div id="createProjectModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>‚ûï T·∫°o Project M·ªõi</h2>
            <span class="close" onclick="closeModal('createProjectModal')">&times;</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="newProjectName">T√™n Project:</label>
                <input type="text" id="newProjectName" placeholder="Nh·∫≠p t√™n project m·ªõi..." maxlength="100" required>
                <small style="color: #6c757d;">T√™n project ph·∫£i duy nh·∫•t</small>
            </div>
            <div class="form-group">
                <label for="newProjectScriptId">Script ID:</label>
                <input type="text" id="newProjectScriptId" placeholder="ƒê·ªÉ tr·ªëng s·∫Ω t·∫°o script 'default_script'..." maxlength="50">
                <small style="color: #6c757d;">ƒê·ªãnh danh script cho project. ƒê·ªÉ tr·ªëng s·∫Ω t·∫°o script "Default"</small>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="clearFormData" checked>
                    X√≥a d·ªØ li·ªáu form hi·ªán t·∫°i
                </label>
                <small style="display: block; color: #6c757d; margin-top: 5px;">
                    N·∫øu b·ªè tick, s·∫Ω gi·ªØ l·∫°i d·ªØ li·ªáu AdData hi·ªán t·∫°i cho project m·ªõi
                </small>
            </div>
            <div class="button-group">
                <button type="button" class="btn btn-success" onclick="processCreateProject()">‚ûï T·∫°o Project</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('createProjectModal')">‚ùå H·ªßy</button>
            </div>
        </div>
    </div>
</div>

<!-- Rename Project Modal -->
<div id="renameProjectModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>‚úèÔ∏è ƒê·ªïi t√™n Project</h2>
            <span class="close" onclick="closeModal('renameProjectModal')">&times;</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="currentProjectNameDisplay">T√™n hi·ªán t·∫°i:</label>
                <input type="text" id="currentProjectNameDisplay" readonly style="background-color: #f8f9fa; color: #6c757d;">
            </div>
            <div class="form-group">
                <label for="newProjectNameInput">T√™n m·ªõi:</label>
                <input type="text" id="newProjectNameInput" placeholder="Nh·∫≠p t√™n project m·ªõi..." maxlength="100" required
                       oninput="validateRenameInput()">
                <small style="color: #6c757d;">T√™n project ph·∫£i duy nh·∫•t v√† kh√¥ng tr√πng v·ªõi project kh√°c</small>
                <div id="renameValidationMessage" class="validation-message" style="display: none;"></div>
            </div>
            <div class="button-group">
                <button type="button" class="btn btn-warning" onclick="processRenameProject()">‚úèÔ∏è ƒê·ªïi t√™n</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('renameProjectModal')">‚ùå H·ªßy</button>
            </div>
        </div>
    </div>
</div>

<!-- Project List Modal -->
<div id="projectListModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üìÇ Load Project</h2>
            <span class="close" onclick="closeModal('projectListModal')">&times;</span>
        </div>
        <div class="modal-body">
            <!-- Search and Filter Controls -->
            <div class="project-controls-header">
                <div class="search-container">
                    <input type="text" id="projectSearchInput" placeholder="üîç T√¨m ki·∫øm project..." class="search-input">
                    <button type="button" class="btn btn-secondary btn-sm" onclick="clearProjectSearch()">‚úñÔ∏è Clear</button>
                </div>
                <div class="view-controls">
                    <label>
                        <select id="projectSortBy" onchange="sortProjects()">
                            <option value="updatedAt">üìÖ M·ªõi nh·∫•t</option>
                            <option value="name">üìù T√™n A-Z</option>
                            <option value="createdAt">üÜï T·∫°o m·ªõi nh·∫•t</option>
                        </select>
                    </label>
                    <label>
                        <select id="projectPageSize" onchange="changePageSize()">
                            <option value="10">10 items</option>
                            <option value="20" selected>20 items</option>
                            <option value="50">50 items</option>
                            <option value="100">100 items</option>
                        </select>
                    </label>
                </div>
            </div>

            <!-- Project List -->
            <div id="projectList" class="project-list">
                <div class="loading-projects">ƒêang t·∫£i danh s√°ch projects...</div>
            </div>

            <!-- Pagination -->
            <div id="projectPagination" class="pagination-container" style="display: none;">
                <div class="pagination-info">
                    <span id="paginationInfo">Hi·ªÉn th·ªã 1-20 c·ªßa 50 projects</span>
                </div>
                <div class="pagination-controls">
                    <button type="button" class="btn btn-sm" id="prevPageBtn" onclick="previousPage()" disabled>‚¨ÖÔ∏è Tr∆∞·ªõc</button>
                    <span id="pageNumbers" class="page-numbers"></span>
                    <button type="button" class="btn btn-sm" id="nextPageBtn" onclick="nextPage()">Sau ‚û°Ô∏è</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Import Project Modal -->
<div id="importModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üì• Import Project</h2>
            <span class="close" onclick="closeModal('importModal')">&times;</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="importFile">Ch·ªçn file JSON ƒë·ªÉ import:</label>
                <input type="file" id="importFile" accept=".json" onchange="handleFileImport(this)">
            </div>
            <div class="form-group">
                <label for="importText">Ho·∫∑c paste JSON data:</label>
                <textarea id="importText" placeholder="Paste JSON data v√†o ƒë√¢y..." rows="10"></textarea>
            </div>
            <div class="button-group">
                <button type="button" class="btn btn-primary" onclick="processImport()">üì• Import</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('importModal')">‚ùå H·ªßy</button>
            </div>
        </div>
    </div>
</div>

<!-- Import JSON Data Modal -->
<div id="importDataModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üì• Import JSON Data</h2>
            <span class="close" onclick="closeModal('importDataModal')">&times;</span>
        </div>
        <div class="modal-body">
            <p style="color: #6c757d; margin-bottom: 20px;">
                Import d·ªØ li·ªáu AdData t·ª´ JSON (t·ª´ Unity ho·∫∑c ngu·ªìn kh√°c) v√†o form hi·ªán t·∫°i.
            </p>
            <div class="form-group">
                <label for="importDataFile">Ch·ªçn file JSON:</label>
                <input type="file" id="importDataFile" accept=".json" onchange="handleDataFileImport(this)">
            </div>
            <div class="form-group">
                <label for="importDataText">Ho·∫∑c paste JSON AdData:</label>
                <textarea id="importDataText" placeholder="Paste JSON AdData v√†o ƒë√¢y..." rows="15" style="font-family: 'Courier New', monospace; font-size: 12px;"></textarea>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="validateOnImport" checked>
                    Validate Ad IDs khi import
                </label>
                <small style="display: block; color: #6c757d; margin-top: 5px;">
                    N·∫øu b·ªè tick, s·∫Ω import t·∫•t c·∫£ d·ªØ li·ªáu k·ªÉ c·∫£ ID kh√¥ng h·ª£p l·ªá
                </small>
            </div>
            <div class="button-group">
                <button type="button" class="btn btn-primary" onclick="processDataImport()">üì• Import Data</button>
                <button type="button" class="btn btn-secondary" onclick="clearImportData()">üßπ Clear</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('importDataModal')">‚ùå H·ªßy</button>
            </div>
        </div>
    </div>
</div>



<!-- Notification Toast -->
<div id="notificationToast" class="notification-toast" style="display: none;">
    <div class="toast-content">
        <span class="toast-icon"></span>
        <span class="toast-message"></span>
        <button class="toast-close" onclick="hideNotification()">&times;</button>
    </div>
</div>

<!-- Add Script Modal -->
<div id="addScriptModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>‚ûï Th√™m Script M·ªõi</h2>
            <span class="close" onclick="closeModal('addScriptModal')">&times;</span>
        </div>
        <div class="modal-body">
            <form id="addScriptForm">
                <div class="form-group">
                    <label for="newScriptId">Script ID:</label>
                    <input type="text" id="newScriptId" name="scriptId" placeholder="ƒê·ªÉ tr·ªëng s·∫Ω t·∫°o 'default_script'..." maxlength="50" list="scriptIdDatalist">
                    <datalist id="scriptIdDatalist">
                        <!-- Script IDs will be loaded here -->
                    </datalist>
                    <small>ƒê·ªãnh danh duy nh·∫•t cho script. ƒê·ªÉ tr·ªëng s·∫Ω t·∫°o script "Default"</small>
                </div>

                <div class="form-group">
                    <label for="newScriptName">T√™n Script:</label>
                    <input type="text" id="newScriptName" name="name" placeholder="ƒê·ªÉ tr·ªëng s·∫Ω t·ª± ƒë·ªông ƒë·∫∑t t√™n..." maxlength="100">
                    <small>T√™n hi·ªÉn th·ªã c·ªßa script. ƒê·ªÉ tr·ªëng s·∫Ω t·ª± ƒë·ªông ƒë·∫∑t t√™n theo Script ID</small>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="copyCurrentData" checked>
                        Sao ch√©p d·ªØ li·ªáu t·ª´ script hi·ªán t·∫°i
                    </label>
                    <small>N·∫øu b·ªè ch·ªçn, script m·ªõi s·∫Ω c√≥ d·ªØ li·ªáu tr·ªëng</small>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn btn-primary">‚ûï Th√™m Script</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addScriptModal')">‚ùå H·ªßy</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Edit Script Modal -->
<div id="editScriptModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>‚úèÔ∏è S·ª≠a Script</h2>
            <span class="close" onclick="closeModal('editScriptModal')">&times;</span>
        </div>
        <div class="modal-body">
            <form id="editScriptForm">
                <div class="form-group">
                    <label for="editScriptId">Script ID:</label>
                    <input type="text" id="editScriptId" name="scriptId" maxlength="50" required readonly>
                    <small>Script ID kh√¥ng th·ªÉ thay ƒë·ªïi</small>
                </div>

                <div class="form-group">
                    <label for="editScriptName">T√™n Script:</label>
                    <input type="text" id="editScriptName" name="name" maxlength="100" required>
                    <small>T√™n hi·ªÉn th·ªã cho script</small>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn btn-primary">üíæ L∆∞u Thay ƒê·ªïi</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('editScriptModal')">‚ùå H·ªßy</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Confirmation Modal -->
<div id="confirmModal" class="modal">
    <div class="modal-content modal-small">
        <div class="modal-header">
            <h2 id="confirmTitle">X√°c nh·∫≠n</h2>
            <span class="close" onclick="closeModal('confirmModal')">&times;</span>
        </div>
        <div class="modal-body">
            <p id="confirmMessage">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën th·ª±c hi·ªán h√†nh ƒë·ªông n√†y?</p>
            <div class="button-group">
                <button type="button" class="btn btn-danger" id="confirmYes">C√≥</button>
                <button type="button" class="btn btn-secondary" id="confirmNo" onclick="closeModal('confirmModal')">Kh√¥ng</button>
            </div>
        </div>
    </div>
</div>
